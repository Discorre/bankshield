{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\egori\\\\vscodeprojects\\\\bankshield\\\\bankshield-client\\\\src\\\\pages\\\\Register.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Register = () => {\n  _s();\n  const navigate = useNavigate();\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n  const [confirmPasswordError, setConfirmPasswordError] = useState('');\n  const API_URL = process.env.REACT_APP_API_URL;\n  const passwordRegex = /(?=.*[0-9])(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z!@#$%^&*]{6,}/;\n  const handlePasswordChange = e => {\n    const newPassword = e.target.value;\n    setPassword(newPassword);\n    if (!passwordRegex.test(newPassword)) {\n      setPasswordError('Пароль должен содержать минимум 6 символов, включая цифру, заглавную и строчную буквы, а также спецсимвол (!@#$%^&*).');\n    } else {\n      setPasswordError('');\n    }\n\n    // Проверяем совпадение с confirm password\n    if (confirmPassword && newPassword !== confirmPassword) {\n      setConfirmPasswordError('Пароли не совпадают');\n    } else {\n      setConfirmPasswordError('');\n    }\n  };\n  const handleConfirmPasswordChange = e => {\n    const value = e.target.value;\n    setConfirmPassword(value);\n    if (value !== password) {\n      setConfirmPasswordError('Пароли не совпадают');\n    } else {\n      setConfirmPasswordError('');\n    }\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (password !== confirmPassword) {\n      setConfirmPasswordError('Пароли не совпадают');\n      return;\n    }\n    axios.post(`${API_URL}/register`, {\n      username,\n      email,\n      password\n    }).then(response => {\n      alert(response.data.message);\n      navigate('/login');\n    }).catch(error => {\n      var _error$response, _error$response$data;\n      alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || 'Ошибка регистрации');\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u0418\\u043C\\u044F\",\n        value: username,\n        onChange: e => setUsername(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Email\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n        value: password,\n        onChange: handlePasswordChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), passwordError && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: passwordError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n        value: confirmPassword,\n        onChange: handleConfirmPasswordChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), confirmPasswordError && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: confirmPasswordError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: !!passwordError || !!confirmPasswordError,\n        children: \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n_s(Register, \"VlaPr6TfeS5yDd22gUdaHzWnZtU=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useNavigate","axios","jsxDEV","_jsxDEV","Register","_s","navigate","username","setUsername","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","passwordError","setPasswordError","confirmPasswordError","setConfirmPasswordError","API_URL","process","env","REACT_APP_API_URL","passwordRegex","handlePasswordChange","e","newPassword","target","value","test","handleConfirmPasswordChange","handleSubmit","preventDefault","post","then","response","alert","data","message","catch","error","_error$response","_error$response$data","detail","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","onChange","required","disabled","_c","$RefreshReg$"],"sources":["C:/Users/egori/vscodeprojects/bankshield/bankshield-client/src/pages/Register.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst Register = () => {\r\n  const navigate = useNavigate();\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [passwordError, setPasswordError] = useState('');\r\n  const [confirmPasswordError, setConfirmPasswordError] = useState('');\r\n\r\n  const API_URL = process.env.REACT_APP_API_URL;\r\n\r\n  const passwordRegex = /(?=.*[0-9])(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z!@#$%^&*]{6,}/;\r\n\r\n  const handlePasswordChange = (e) => {\r\n    const newPassword = e.target.value;\r\n    setPassword(newPassword);\r\n\r\n    if (!passwordRegex.test(newPassword)) {\r\n      setPasswordError('Пароль должен содержать минимум 6 символов, включая цифру, заглавную и строчную буквы, а также спецсимвол (!@#$%^&*).');\r\n    } else {\r\n      setPasswordError('');\r\n    }\r\n\r\n    // Проверяем совпадение с confirm password\r\n    if (confirmPassword && newPassword !== confirmPassword) {\r\n      setConfirmPasswordError('Пароли не совпадают');\r\n    } else {\r\n      setConfirmPasswordError('');\r\n    }\r\n  };\r\n\r\n  const handleConfirmPasswordChange = (e) => {\r\n    const value = e.target.value;\r\n    setConfirmPassword(value);\r\n\r\n    if (value !== password) {\r\n      setConfirmPasswordError('Пароли не совпадают');\r\n    } else {\r\n      setConfirmPasswordError('');\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (password !== confirmPassword) {\r\n      setConfirmPasswordError('Пароли не совпадают');\r\n      return;\r\n    }\r\n\r\n    axios.post(`${API_URL}/register`, { username, email, password })\r\n      .then(response => {\r\n        alert(response.data.message);\r\n        navigate('/login');\r\n      })\r\n      .catch(error => {\r\n        alert(error.response?.data?.detail || 'Ошибка регистрации');\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-container\">\r\n      <h2>Регистрация</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Имя\"\r\n          value={username}\r\n          onChange={e => setUsername(e.target.value)}\r\n          required\r\n        />\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          value={email}\r\n          onChange={e => setEmail(e.target.value)}\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Пароль\"\r\n          value={password}\r\n          onChange={handlePasswordChange}\r\n          required\r\n        />\r\n        {passwordError && <p className=\"error-message\">{passwordError}</p>}\r\n\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Подтвердите пароль\"\r\n          value={confirmPassword}\r\n          onChange={handleConfirmPasswordChange}\r\n          required\r\n        />\r\n        {confirmPasswordError && <p className=\"error-message\">{confirmPasswordError}</p>}\r\n\r\n        <button type=\"submit\" disabled={!!passwordError || !!confirmPasswordError}>\r\n          Зарегистрироваться\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}