{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import api from'../api/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const navigate=useNavigate();const[username,setUsername]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[passwordError,setPasswordError]=useState('');const passwordRegex=/(?=.*[0-9])(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z!@#$%^&*]{6,}/;const handlePasswordChange=e=>{const newPassword=e.target.value;setPassword(newPassword);if(!passwordRegex.test(newPassword)){setPasswordError('Пароль должен содержать минимум 6 символов, включая цифру, заглавную и строчную буквы, а также спецсимвол (!@#$%^&*).');}else{setPasswordError('');}};const handleSubmit=e=>{e.preventDefault();api.post('http://localhost:8000/api/v1/register',{username,email,password}).then(response=>{alert(response.data.message);navigate('/login');}).catch(error=>{alert(error.response.data.detail||'Ошибка регистрации');});};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0418\\u043C\\u044F\",value:username,onChange:e=>setUsername(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",value:password,onChange:handlePasswordChange,required:true}),passwordError&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:passwordError}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!!passwordError,children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"})]})]});};export default Register;","map":{"version":3,"names":["React","useState","useNavigate","api","jsx","_jsx","jsxs","_jsxs","Register","navigate","username","setUsername","email","setEmail","password","setPassword","passwordError","setPasswordError","passwordRegex","handlePasswordChange","e","newPassword","target","value","test","handleSubmit","preventDefault","post","then","response","alert","data","message","catch","error","detail","className","children","onSubmit","type","placeholder","onChange","required","disabled"],"sources":["/home/discorre/vscodeproj/123/bankshield/bankshield-client/src/pages/Register.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport api from '../api/api';\n\nconst Register = () => {\n  const navigate = useNavigate();\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n\n  const passwordRegex = /(?=.*[0-9])(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z!@#$%^&*]{6,}/;\n\n  const handlePasswordChange = (e) => {\n    const newPassword = e.target.value;\n    setPassword(newPassword);\n    \n    if (!passwordRegex.test(newPassword)) {\n      setPasswordError('Пароль должен содержать минимум 6 символов, включая цифру, заглавную и строчную буквы, а также спецсимвол (!@#$%^&*).');\n    } else {\n      setPasswordError('');\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    api.post('http://localhost:8000/api/v1/register', { username, email, password })\n      .then(response => {\n        alert(response.data.message);\n        navigate('/login');\n      })\n      .catch(error => {\n        alert(error.response.data.detail || 'Ошибка регистрации');\n      });\n  };\n\n  return (\n    <div className=\"form-container\">\n      <h2>Регистрация</h2>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" placeholder=\"Имя\" value={username} onChange={e => setUsername(e.target.value)} required />\n        <input type=\"email\" placeholder=\"Email\" value={email} onChange={e => setEmail(e.target.value)} required />\n        <input type=\"password\" placeholder=\"Пароль\" value={password} onChange={handlePasswordChange} required />\n        {passwordError && <p className=\"error-message\">{passwordError}</p>}\n        <button type=\"submit\" disabled={!!passwordError}>Зарегистрироваться</button>\n      </form>\n    </div>\n  );\n};\n\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}